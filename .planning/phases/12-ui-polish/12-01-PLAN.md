---
phase: 12-ui-polish
plan: 01
type: execute
domain: react
---

<objective>
Rebrand application to "pawaRisk" and fix sidebar collapse behavior.

Purpose: Establish the new brand identity and fix the most disruptive layout issue (sidebar overlap).
Output: Consistent "pawaRisk" branding across the app, sidebar that collapses cleanly without overlapping content.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ui-polish/12-CONTEXT.md

# Key files for this plan:
@web/index.html
@web/src/components/layout/app-sidebar.tsx
@web/src/components/layout/app-layout.tsx
@web/src/routes.tsx

**Branding locations to update:**
- Browser title: web/index.html (title tag)
- Sidebar header: web/src/components/layout/app-sidebar.tsx (logo + text)
- localStorage key: web/index.html (theme key uses "betpawa-ui-theme")

**Sidebar issue:**
- Uses shadcn Sidebar with collapsible="icon"
- Issue: When sidebar expands/collapses, content area doesn't adjust properly
- SidebarProvider defaultOpen=true causes expanded state on load

**Navigation rename:**
- "Matches" â†’ "Odds Comparison" in navItems array

**Established patterns:**
- shadcn Sidebar: collapsible="icon" for compact mode
- SidebarProvider must wrap entire layout
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rebrand to pawaRisk</name>
  <files>web/index.html, web/src/components/layout/app-sidebar.tsx</files>
  <action>
1. Update web/index.html:
   - Change title from "Betpawa Odds Comparison" to "pawaRisk"
   - Update localStorage theme key from "betpawa-ui-theme" to "pawarisk-theme" (snake-case for consistency)

2. Update web/src/components/layout/app-sidebar.tsx:
   - Change header text from "Betpawa Odds" to "pawaRisk"
   - Change "Matches" nav item title to "Odds Comparison"
   - Consider changing Activity icon to something more risk-focused (TrendingDown, AlertTriangle, or keep Activity)

Note: Keep the icon as Activity - it works fine for a risk/comparison tool.
  </action>
  <verify>Browser tab shows "pawaRisk", sidebar header shows "pawaRisk", navigation shows "Odds Comparison"</verify>
  <done>All "Betpawa" references replaced with "pawaRisk", nav item renamed</done>
</task>

<task type="auto">
  <name>Task 2: Fix sidebar collapse behavior</name>
  <files>web/src/components/layout/app-layout.tsx, web/src/components/ui/sidebar.tsx</files>
  <action>
1. In app-layout.tsx:
   - Change SidebarProvider defaultOpen to false (collapsed by default)
   - This makes the sidebar start in icon-only mode

2. Check sidebar.tsx for any CSS issues:
   - The SIDEBAR_WIDTH and SIDEBAR_WIDTH_ICON constants define the widths
   - Ensure the SidebarInset component properly accounts for sidebar state
   - The sidebar uses CSS custom properties (--sidebar-width) set by SidebarProvider

3. If there's still overlap, add transition smoothing:
   - SidebarInset may need explicit margin-left or left positioning based on sidebar state
   - Check if there's a CSS variable being used (--sidebar-width should work)

The shadcn sidebar component sets CSS variables on the parent element. The SidebarInset should use these. If content is being covered, it's likely the SidebarInset is positioned incorrectly.

Key: The sidebar uses position: fixed when collapsible. The SidebarInset needs to account for this with proper margin.
  </action>
  <verify>npm run dev, toggle sidebar with trigger button - content should not be covered at any point</verify>
  <done>Sidebar starts collapsed, expands/collapses cleanly without overlapping main content</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>pawaRisk branding and sidebar collapse fix</what-built>
  <how-to-verify>
    1. Run: cd web && npm run dev
    2. Check browser tab shows "pawaRisk"
    3. Check sidebar header shows "pawaRisk" with icon
    4. Check navigation shows "Odds Comparison" instead of "Matches"
    5. Sidebar should start collapsed (icon-only mode)
    6. Click sidebar trigger to expand - content should NOT be covered
    7. Click again to collapse - should transition smoothly
    8. Resize window to narrow/wide - layout should remain stable
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Browser title shows "pawaRisk"
- [ ] Sidebar header shows "pawaRisk"
- [ ] Nav item shows "Odds Comparison"
- [ ] Sidebar starts collapsed by default
- [ ] Sidebar expand/collapse doesn't overlap content
- [ ] Theme toggle still works (localStorage key updated)
</verification>

<success_criteria>

- All branding updated to pawaRisk
- Navigation renamed from Matches to Odds Comparison
- Sidebar starts collapsed and transitions without content overlap
- No visual glitches on expand/collapse
</success_criteria>

<output>
After completion, create `.planning/phases/12-ui-polish/12-01-SUMMARY.md`
</output>
