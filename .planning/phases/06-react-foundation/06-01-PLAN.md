---
phase: 06-react-foundation
plan: 01
type: execute
---

<objective>
Set up Vite + React 19 + TypeScript project with TanStack Query configured.

Purpose: Establish the build tooling and data fetching foundation that all UI features depend on.
Output: Working React app skeleton with TanStack Query provider and dev server running.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-react-foundation/06-RESEARCH.md
@.planning/phases/06-react-foundation/06-CONTEXT.md

**Tech decisions from research:**
- Vite 7.x with react-ts template
- React 19 + react-dom 19
- TanStack Query v5 (use `isPending` not `isLoading`, `gcTime` not `cacheTime`)
- pnpm as package manager (consistent with ecosystem)

**API endpoints available:**
- GET /health - Overall system health
- GET /scheduler/status - Scheduler running state
- GET /scheduler/history - Paginated scrape runs
- GET /events - Matched events list
- GET /events/{id} - Single event detail

**Project structure target:**
```
web/
├── src/
│   ├── components/
│   ├── features/
│   ├── hooks/
│   ├── lib/
│   ├── types/
│   ├── App.tsx
│   ├── main.tsx
│   └── index.css
├── index.html
├── vite.config.ts
├── tsconfig.json
└── package.json
```
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vite React project and upgrade to React 19</name>
  <files>web/package.json, web/vite.config.ts, web/tsconfig.json, web/tsconfig.app.json</files>
  <action>
1. Create project: `pnpm create vite@latest web --template react-ts`
2. Navigate to web directory
3. Upgrade to React 19:
   - `pnpm install react@19 react-dom@19`
   - `pnpm install -D @types/react@19 @types/react-dom@19`
4. Install path alias support: `pnpm install -D @types/node`
5. Configure vite.config.ts with path alias:
```typescript
import path from "path"
import react from "@vitejs/plugin-react"
import { defineConfig } from "vite"

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
      },
    },
  },
})
```
6. Update tsconfig.json to add baseUrl and paths:
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```
7. Update tsconfig.app.json to ALSO include paths (required for Vite to resolve):
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```
  </action>
  <verify>cd web && pnpm run dev starts without errors, visit http://localhost:5173</verify>
  <done>Vite dev server runs, React 19 renders default page, path aliases configured</done>
</task>

<task type="auto">
  <name>Task 2: Install and configure TanStack Query</name>
  <files>web/src/App.tsx, web/src/main.tsx, web/package.json</files>
  <action>
1. Install TanStack Query: `pnpm install @tanstack/react-query`
2. Install devtools (dev only): `pnpm install -D @tanstack/react-query-devtools`
3. Create QueryClient in App.tsx with sensible defaults:
```typescript
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,  // 5 minutes
      gcTime: 1000 * 60 * 10,    // 10 minutes (NOT cacheTime - v5 renamed it)
      retry: 1,
      refetchOnWindowFocus: false,
    },
  },
})

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <div>
        <h1>Betpawa Odds Comparison</h1>
        <p>React 19 + TanStack Query ready</p>
      </div>
      <ReactQueryDevtools initialIsOpen={false} />
    </QueryClientProvider>
  )
}
```
4. Clean up default Vite styles in index.css (remove but keep file)
5. Remove App.css (not needed with Tailwind coming next plan)
  </action>
  <verify>pnpm run dev shows "Betpawa Odds Comparison", open React Query devtools (flower icon)</verify>
  <done>TanStack Query provider wraps app, devtools visible in development mode</done>
</task>

<task type="auto">
  <name>Task 3: Create project folder structure</name>
  <files>web/src/components/.gitkeep, web/src/features/.gitkeep, web/src/hooks/.gitkeep, web/src/lib/.gitkeep, web/src/types/.gitkeep</files>
  <action>
1. Create directory structure with placeholder files:
   - src/components/ (shared components)
   - src/components/ui/ (shadcn components - Plan 02)
   - src/components/layout/ (layout components - Plan 03)
   - src/features/ (feature modules)
   - src/features/dashboard/ (Plan 04)
   - src/features/matches/ (Phase 7)
   - src/features/settings/ (Phase 7)
   - src/hooks/ (custom hooks)
   - src/lib/ (utilities, API client)
   - src/types/ (TypeScript types)

2. Create src/types/index.ts with placeholder:
```typescript
// API response types - will be populated as features are built
export {}
```

3. Create src/lib/utils.ts with cn helper (shadcn requires this):
```typescript
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

4. Install clsx and tailwind-merge for cn helper:
   `pnpm install clsx tailwind-merge`
  </action>
  <verify>All directories exist, import from @/lib/utils works, pnpm run build succeeds</verify>
  <done>Project structure ready for features, cn() utility available</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd web && pnpm run dev` starts dev server on port 5173
- [ ] `pnpm run build` succeeds without TypeScript errors
- [ ] TanStack Query devtools visible (flower icon bottom-right)
- [ ] Path alias `@/` resolves correctly
- [ ] API proxy configured for /api -> localhost:8000
</verification>

<success_criteria>

- Vite dev server runs with React 19
- TanStack Query provider configured with sensible defaults
- Devtools available in development
- Project folder structure established
- Path aliases working
- API proxy configured for backend communication
</success_criteria>

<output>
After completion, create `.planning/phases/06-react-foundation/06-01-SUMMARY.md`:

# Phase 6 Plan 01: Project Setup Summary

**[Substantive summary of what was accomplished]**

## Accomplishments
- [Key outcomes]

## Files Created/Modified
- `web/package.json` - Dependencies and scripts
- `web/vite.config.ts` - Vite configuration with proxy
- `web/src/App.tsx` - Root component with QueryClientProvider

## Decisions Made
[Any deviations or choices made]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Ready for 06-02-PLAN.md (UI Foundation)
</output>
