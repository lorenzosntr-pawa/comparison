---
phase: 80-specifier-bug-fix
plan: 80-02-FIX
type: fix
---

<objective>
Fix 1 UAT issue from plan 80-02.

Source: 80-02-ISSUES.md
Priority: 0 critical, 1 major, 0 minor
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/80-specifier-bug-fix/80-02-ISSUES.md

**Original plan for reference:**
@.planning/phases/80-specifier-bug-fix/80-02-PLAN.md

**Key file to modify:**
@web/src/features/matches/components/match-table.tsx
</context>

<tasks>

<task type="auto">
  <name>Fix UAT-001: Pass line value for O/U 2.5 in match-table</name>
  <files>web/src/features/matches/components/match-table.tsx</files>
  <action>
The original plan passed `line: null` for all inline markets (1X2, O/U 2.5, BTTS, DC), but O/U 2.5 has a specific line value (2.5) that should be passed.

**Fix:**

1. Find the inline market configurations in the match-table.tsx file. Look for where inline_odds are mapped to columns or where the history dialog is triggered for O/U.

2. For the O/U 2.5 inline market specifically, pass `line: 2.5` instead of `line: null`:
   - The O/U 2.5 column displays odds for the 2.5 line specifically
   - When clicking to view history, it should filter to line=2.5

3. Keep `line: null` for truly non-specifier markets:
   - 1X2 (Match Result) - no line, null is correct
   - BTTS (Both Teams To Score) - no line, null is correct
   - DC (Double Chance) - no line, null is correct

**Expected change pattern:**
```typescript
// For O/U 2.5 market:
setHistoryDialog({
  ...
  line: 2.5,  // Changed from null to 2.5
})

// For 1X2, BTTS, DC markets:
setHistoryDialog({
  ...
  line: null,  // Keep as null - no specifier
})
```

Look for where the OddsValue or similar component onClick handlers set the history dialog state for the over_under or ou_25 inline market, and ensure line: 2.5 is passed.
  </action>
  <verify>
1. TypeScript compiles: `cd web && npx tsc --noEmit src/features/matches/components/match-table.tsx`
2. Manual test: Go to Odds Comparison page, click O/U 2.5 odds to open history, verify chart shows only 2.5 line data (not mixed with other lines)
  </verify>
  <done>O/U 2.5 history on Odds Comparison page shows only 2.5 line data; UAT-001 resolved</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] TypeScript compiles without errors
- [ ] O/U 2.5 history on Odds Comparison page shows only 2.5 line data
- [ ] 1X2, BTTS, DC history still works correctly (regression check)
- [ ] UAT-001 acceptance criteria met
</verification>

<success_criteria>
- UAT-001 fixed: Odds Comparison page O/U 2.5 history shows filtered 2.5 line data
- Tests pass
- Ready for re-verification
</success_criteria>

<output>
After completion, create `.planning/phases/80-specifier-bug-fix/80-02-FIX-SUMMARY.md`
</output>
