---
phase: 77-documentation-frontend
plan: 01
type: execute
---

<objective>
Add JSDoc documentation to core frontend infrastructure: API client, types, and shared hooks.

Purpose: Establish consistent TypeScript documentation patterns for the frontend codebase, starting with shared infrastructure that all features depend on.
Output: JSDoc-documented API client, type definitions, and reusable hooks.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/76-documentation-backend/76-01-SUMMARY.md

# Source files to document
@web/src/lib/api.ts
@web/src/lib/utils.ts
@web/src/types/api.ts
@web/src/hooks/use-websocket.ts
@web/src/hooks/use-websocket-scrape-progress.ts
@web/src/hooks/use-odds-updates.ts
@web/src/hooks/use-mobile.tsx
@web/src/features/matches/lib/market-utils.ts

**Documentation pattern from backend:**
Phase 76 used PEP 257 docstrings with Args/Returns/Raises sections. For TypeScript, use equivalent JSDoc format:
- Module-level comments at top of file describing purpose
- Interface/type documentation with @description and @property tags
- Function documentation with @param, @returns, @example tags
- Keep existing documentation if already good quality (e.g., use-websocket.ts)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Document API client and types</name>
  <files>web/src/lib/api.ts, web/src/lib/utils.ts, web/src/types/api.ts</files>
  <action>
Add comprehensive JSDoc documentation to all API-related files:

**web/src/lib/api.ts:**
- Add module docstring describing the API client's purpose and usage
- Document ApiError class with @description
- Document fetchJson helper with @param, @returns, @throws
- Document each api object method with @param, @returns (group by endpoint category)

**web/src/lib/utils.ts:**
- Add module docstring
- Document any utility functions with @param, @returns

**web/src/types/api.ts:**
- Add module docstring explaining the type categories
- Add JSDoc to each interface with @description explaining its purpose
- Group related types with section comments (already has some, enhance where needed)
- Use @property tags for non-obvious fields

Format example:
```typescript
/**
 * API client for communicating with the FastAPI backend.
 *
 * @module api
 * @description Provides typed fetch wrappers for all backend endpoints.
 * Uses fetchJson helper for consistent error handling and JSON parsing.
 */

/**
 * Custom error class for API response errors.
 *
 * @description Thrown when the API returns a non-2xx status code.
 * Includes the HTTP status code for conditional error handling.
 */
export class ApiError extends Error {
```
  </action>
  <verify>npx tsc --noEmit (no TypeScript errors)</verify>
  <done>All 3 files have module docstrings and JSDoc on exports</done>
</task>

<task type="auto">
  <name>Task 2: Document shared hooks</name>
  <files>web/src/hooks/use-websocket.ts, web/src/hooks/use-websocket-scrape-progress.ts, web/src/hooks/use-odds-updates.ts, web/src/hooks/use-mobile.tsx, web/src/features/matches/lib/market-utils.ts</files>
  <action>
Add/enhance JSDoc documentation for shared hooks and utilities:

**web/src/hooks/use-websocket.ts:**
- Already has good documentation - verify and enhance if needed
- Ensure module docstring exists
- Add @example showing basic usage

**web/src/hooks/use-websocket-scrape-progress.ts:**
- Add module docstring explaining its role in the real-time scrape observation system
- Document the hook with @param, @returns
- Document exported types (ScrapeProgressMessage, PlatformProgress, etc.)
- Add @example showing how to observe scrape progress

**web/src/hooks/use-odds-updates.ts:**
- Add module docstring explaining the query invalidation pattern
- Document how it integrates with TanStack Query
- Add @example showing usage in components

**web/src/hooks/use-mobile.tsx:**
- Add module docstring
- Document the hook with @returns

**web/src/features/matches/lib/market-utils.ts:**
- Add module docstring explaining market data utilities
- Document each exported function with @param, @returns, @example

Keep existing documentation that is already good quality. Only add/enhance where missing.
  </action>
  <verify>npx tsc --noEmit (no TypeScript errors)</verify>
  <done>All 5 files have comprehensive JSDoc documentation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes with no errors
- [ ] All 8 files have module-level docstrings
- [ ] All exported types/interfaces have JSDoc descriptions
- [ ] All exported functions have @param and @returns
- [ ] Documentation follows consistent JSDoc style
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors introduced
- Documentation follows JSDoc conventions consistent with existing codebase patterns
</success_criteria>

<output>
After completion, create `.planning/phases/77-documentation-frontend/77-01-SUMMARY.md`
</output>
