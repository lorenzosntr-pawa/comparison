---
phase: 96-navigation-overhaul
plan: 01
type: execute
---

<objective>
Restructure navigation with Odds Comparison as default landing page, add dashboard widgets to sidebar, and widen sidebar for readability.

Purpose: Make the primary workflow (odds comparison) immediately accessible and provide at-a-glance system status without navigating away.
Output: Updated routing, sidebar with compact status widgets, improved sidebar width.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/95-historical-analysis/95-01-SUMMARY.md

# Key source files
@web/src/routes.tsx
@web/src/components/layout/app-sidebar.tsx
@web/src/components/layout/app-layout.tsx
@web/src/components/ui/sidebar.tsx
@web/src/features/dashboard/index.tsx
@web/src/features/dashboard/components/stats-cards.tsx
@web/src/features/dashboard/components/status-bar.tsx

# Established patterns
- SidebarGroup/SidebarGroupLabel for sidebar sections
- useCoverage hook for event counts
- useHealth hook for platform/DB status
- useSchedulerStatus for scheduler state
- SIDEBAR_WIDTH constant in sidebar.tsx for width configuration
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make Odds Comparison the default landing page</name>
  <files>web/src/routes.tsx</files>
  <action>
Change the "/" route to render MatchList (Odds Comparison) instead of Dashboard:
1. Update the route path="/" element to render MatchList
2. Add a new route for Dashboard at path="/dashboard"
3. Update navItems in app-sidebar.tsx to match:
   - Dashboard: '/dashboard' (remove from first position, move after main pages)
   - Odds Comparison: '/' (first position, now the landing page)

Keep the order logical: Odds Comparison (landing), Coverage, Historical Analysis, Dashboard, Scrape Runs, Settings

Do NOT remove Dashboard - it's still accessible, just not the default landing.
  </action>
  <verify>npm run dev in web/, navigate to localhost:5173 → should show Odds Comparison page directly</verify>
  <done>Root URL shows Odds Comparison, Dashboard accessible at /dashboard, sidebar navigation order updated</done>
</task>

<task type="auto">
  <name>Task 2: Add compact status widgets to sidebar</name>
  <files>web/src/components/layout/app-sidebar.tsx</files>
  <action>
Add a "Status" section below Navigation with compact widgets:

1. Create a SidebarGroup with SidebarGroupLabel "Status"
2. Add three compact status items (NOT menu buttons, just display):
   - Events count: Use useCoverage().total_events with a small badge
   - Health: Compact indicator dots for DB/Scheduler (green/yellow/red)
   - Recent scrapes: Count of recent runs (e.g., "3 runs today")

Keep it minimal - these are glanceable stats, not interactive elements:
```tsx
<SidebarGroup>
  <SidebarGroupLabel>Status</SidebarGroupLabel>
  <SidebarGroupContent>
    <div className="px-2 space-y-2 text-xs text-muted-foreground">
      {/* Event count */}
      <div className="flex items-center justify-between">
        <span>Events</span>
        <Badge variant="secondary" className="text-xs">{coverage?.total_events ?? '-'}</Badge>
      </div>
      {/* Health indicators */}
      <div className="flex items-center justify-between">
        <span>System</span>
        <div className="flex gap-1">
          <span className={cn('h-2 w-2 rounded-full', dbHealthy ? 'bg-green-500' : 'bg-red-500')} title="Database" />
          <span className={cn('h-2 w-2 rounded-full', schedulerHealthy ? 'bg-green-500' : schedulerPaused ? 'bg-yellow-500' : 'bg-gray-500')} title="Scheduler" />
        </div>
      </div>
    </div>
  </SidebarGroupContent>
</SidebarGroup>
```

Import useCoverage from '@/features/coverage/hooks', useHealth and useSchedulerStatus from '@/features/dashboard/hooks'.
Handle loading states gracefully (show '-' or skeleton).
Hide status section when sidebar is in icon-only mode using group-data-[collapsible=icon]:hidden.
  </action>
  <verify>Open sidebar → Status section visible below Navigation with event count and health dots</verify>
  <done>Sidebar shows Status section with event count badge and system health indicator dots, hidden in collapsed mode</done>
</task>

<task type="auto">
  <name>Task 3: Widen sidebar by ~20%</name>
  <files>web/src/components/ui/sidebar.tsx</files>
  <action>
Increase sidebar width from 16rem to 19rem (~20% wider):

1. Change SIDEBAR_WIDTH constant from "16rem" to "19rem"
2. Keep SIDEBAR_WIDTH_MOBILE at "18rem" (or increase to "20rem" for consistency)

The CSS variable --sidebar-width propagates automatically to all sidebar components.
No other changes needed - the sidebar component uses this variable throughout.
  </action>
  <verify>Open sidebar → visually wider, can see full text without truncation</verify>
  <done>Sidebar width increased from 16rem (256px) to 19rem (304px), text more readable</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] Root URL (/) shows Odds Comparison page
- [ ] Dashboard page accessible at /dashboard
- [ ] Sidebar navigation shows correct order and active states
- [ ] Sidebar Status section shows event count and health indicators
- [ ] Status section hidden when sidebar collapsed to icon mode
- [ ] Sidebar visibly wider (~19rem vs old 16rem)
- [ ] `npm run build` completes without errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Odds Comparison is the landing page
- Sidebar provides at-a-glance system status
- Sidebar width improved for readability
</success_criteria>

<output>
After completion, create `.planning/phases/96-navigation-overhaul/96-01-SUMMARY.md`:

# Phase 96 Plan 01: Navigation Overhaul Summary

**[Substantive one-liner about what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description
- `path/to/another.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

[Phase complete, v2.6 milestone ready to ship]
</output>
