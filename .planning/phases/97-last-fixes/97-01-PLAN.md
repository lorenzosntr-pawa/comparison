---
phase: 97-last-fixes
plan: 01
type: execute
---

<objective>
Final cleanup for v2.6: remove unused Dashboard page, fix stale navigation links, and reorganize sidebar layout.

Purpose: Clean up navigation structure now that sidebar status widgets provide dashboard functionality
Output: Cleaner navigation with no dead routes, correct back links, and logical sidebar organization
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Key files:**
@web/src/routes.tsx
@web/src/components/layout/app-sidebar.tsx
@web/src/features/dashboard/index.tsx
@web/src/features/matches/components/match-header.tsx

**Dependencies to preserve:**
- `features/dashboard/hooks/` - Used by app-sidebar.tsx and settings/scheduler-control.tsx
  - useHealth, useSchedulerStatus, useActiveScrapesObserver
- DO NOT remove the hooks folder - only remove index.tsx and components/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Dashboard page and route</name>
  <files>web/src/routes.tsx, web/src/components/layout/app-sidebar.tsx, web/src/features/dashboard/index.tsx, web/src/features/dashboard/components/</files>
  <action>
    1. In routes.tsx:
       - Remove `import { Dashboard } from '@/features/dashboard'` (line 2)
       - Remove `<Route path="/dashboard" element={<Dashboard />} />` (line 17)

    2. In app-sidebar.tsx:
       - Remove Dashboard entry from navItems array (line 29: `{ title: 'Dashboard', url: '/dashboard', icon: Home }`)
       - Remove Home icon from imports if no longer used

    3. Delete web/src/features/dashboard/index.tsx

    4. Delete web/src/features/dashboard/components/ folder entirely (includes index.ts, platform-health.tsx, recent-runs.tsx, stats-cards.tsx, status-bar.tsx, status-card.tsx)

    5. Keep web/src/features/dashboard/hooks/ folder (used by sidebar and settings)
  </action>
  <verify>
    - npm run build passes with no errors
    - Grep for "Dashboard" in routes.tsx and app-sidebar.tsx returns no matches
    - web/src/features/dashboard/index.tsx does not exist
    - web/src/features/dashboard/components/ does not exist
    - web/src/features/dashboard/hooks/ still exists
  </verify>
  <done>Dashboard page removed, route removed, nav entry removed, shared hooks preserved</done>
</task>

<task type="auto">
  <name>Task 2: Fix stale navigation links</name>
  <files>web/src/features/matches/components/match-header.tsx</files>
  <action>
    In match-header.tsx line 28, change:
    - FROM: `<Link to="/odds-comparison">Back to Odds Comparison</Link>`
    - TO: `<Link to="/">Back to Odds Comparison</Link>`

    The Odds Comparison page is now at "/" (root route), not "/odds-comparison".
    The route "/odds-comparison/:id" is for event detail pages, not the list.
  </action>
  <verify>
    - grep for "/odds-comparison" in match-header.tsx returns only the route pattern comment or nothing
    - Build passes
  </verify>
  <done>Back link correctly points to "/" root route</done>
</task>

<task type="auto">
  <name>Task 3: Reorganize sidebar sections</name>
  <files>web/src/components/layout/app-sidebar.tsx</files>
  <action>
    Restructure sidebar into three sections:

    1. **Main Navigation** (top) - Analysis pages:
       - Odds Comparison (/)
       - Coverage (/coverage)
       - Historical Analysis (/historical-analysis)

    2. **Status section** (middle) - Keep existing Status group with:
       - Events count
       - System health (Database, Scheduler, WebSocket)
       - Next Scrape countdown
       - Active scrape status
       - Last scrape run
       - Run Scrape button

    3. **Utilities** (bottom) - Administration pages:
       - Scrape Runs (/scrape-runs)
       - Settings (/settings)

    Implementation:
    - Split navItems into two arrays: `mainNavItems` and `utilityNavItems`
    - Create separate SidebarGroup for utilities at the bottom
    - Keep Status group in the middle (already exists)

    ```typescript
    const mainNavItems = [
      { title: 'Odds Comparison', url: '/', icon: BarChart3 },
      { title: 'Coverage', url: '/coverage', icon: GitCompare },
      { title: 'Historical Analysis', url: '/historical-analysis', icon: TrendingUp },
    ]

    const utilityNavItems = [
      { title: 'Scrape Runs', url: '/scrape-runs', icon: History },
      { title: 'Settings', url: '/settings', icon: Settings },
    ]
    ```

    In JSX, render three SidebarGroups in order:
    1. Navigation group (mainNavItems)
    2. Status group (existing - no changes)
    3. Utilities group (utilityNavItems) - at bottom
  </action>
  <verify>
    - npm run dev and visually confirm sidebar has three sections
    - Main nav at top: Odds Comparison, Coverage, Historical Analysis
    - Status widgets in middle
    - Scrape Runs and Settings at bottom
  </verify>
  <done>Sidebar reorganized with logical groupings: analysis pages at top, status in middle, utilities at bottom</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] No route to /dashboard exists
- [ ] Back to Odds Comparison link goes to "/" not "/odds-comparison"
- [ ] Sidebar shows three distinct sections
- [ ] All shared hooks from dashboard/hooks/ still work (sidebar loads without errors)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Dashboard page fully removed
- Navigation links are correct
- Sidebar has logical organization
</success_criteria>

<output>
After completion, create `.planning/phases/97-last-fixes/97-01-SUMMARY.md`
</output>
